
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- Favicon made by Freepik from www.flaticon.com licensed under CC BY 3.0 -->
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title>chess test</title>
	  <script src="//code.jquery.com/jquery-1.10.2.min.js"></script>
	  <script src="//code.jquery.com/ui/1.11.1/jquery-ui.js"></script>
	  <script src="scripts/jquery.ui.touch-punch.min.js"></script>
      <script type='text/javascript' src="https://code.angularjs.org/1.2.9/angular.min.js"></script>
	   <script type='text/javascript' src="https://code.angularjs.org/1.2.9/angular-animate.min.js"></script>
	  <script type='text/javascript' src="scripts/gametime.js"></script>
	  
	  <style>
		body {
			font-family: Helvetica, Arial, sans-serif;
		}
		#wrapper{
			margin: 30px auto;
			width: 989px;
		}
		.log{
			float:left;
			border: 1px solid black;
			width: 320px;
			height:500px;
			overflow:auto;
			margin: 30px 10px;
			border-spacing: 5px;
			padding: 4px;
			box-shadow: 2px 2px 3px #aaaaaa;
		}
		.boardTable{ 
			float:left;
			text-align: center;
			border: 3px solid black;
			border-spacing: 5px;
			margin: 30px 10px;
						box-shadow: 2px 2px 3px #aaaaaa;
			padding: 4px;
		}
				
		td{
			font-size: 40px;
			line-height: 40px;
			width:40px; height:40px; 
			padding: 15px;
			
			-webkit-user-select: none; /* Chrome/Safari */        
			-moz-user-select: none; /* Firefox */
			-ms-user-select: none; /* IE10+ */
			
			cursor: pointer;
		}
		.black-piece{ 
			color: black;
			text-shadow: #DDD 1px 1px
		}
		.white-piece{
			color: white;
			text-shadow: #000 1px 1px
		}
		.dragme{
			cursor: pointer;
			/*background-color: red;*/
		}
		.snapto{
			margin: 0px auto;
			width: 100%; height: 100%;
		}
		.ui-state-hover{

		}

.reveal-animation.ng-enter {
  -webkit-animation: enter_sequence 1s linear; /* Safari/Chrome */
  animation: enter_sequence 1s linear; /* IE10+ and Future Browsers */
}
@-webkit-keyframes enter_sequence {
  from { opacity:0; }
  to { opacity:1; }
}
@keyframes enter_sequence {
  from { opacity:0; }
  to { opacity:1; }
}

		</style>
		
  <script>
  $(function() {

    $( ".dragme" ).draggable({opacity: 0.6,snap: ".snapto", snapMode: "inner", snapTolerance: 20, revert: "invalid" });
	$( ".dragme" ).on('dragstart',function(e,ui){
		if(ui.helper.data('id') === undefined) {
			ui.helper.data('start',e.delegateTarget.parentNode.id);
		    ui.helper.data('id',e.delegateTarget.id);
		}
	});

	$( ".snapto" ).droppable({hoverClass: "ui-state-hover"});
	$( ".snapto" ).on('drop',function(e,ui){
		ui.helper.data('start',e.delegateTarget.id);
	});
  });
  </script>
  </head>
  <body ng-app=chessModule>
<div ng-controller="TableCtrl" id="wrapper">
<table class="boardTable" >
<tr ng-repeat="row in data" >
<td ng-repeat="cell in row" class="{{cell.piece.color}}-piece" style="background-color: {{cell.bgcolor}}"><div boardspace class="snapto" id="cell-{{cell.uid}}"><div chesspiece ng-if="cell.piece.symbol!=chessSymbol.empty" class="dragme" id="{{cell.col}}-{{cell.piece.color}}-{{cell.piece.type}}">{{cell.piece.symbol}}</div></div></td>
</tr>
</table>
<div autoscroll class = "log">
<ul>
<li class="reveal-animation" ng-repeat="line in eventlog.Data track by $index">{{line}}</li>
</ul>
</div>
  
</div>
  </body>
</html>

